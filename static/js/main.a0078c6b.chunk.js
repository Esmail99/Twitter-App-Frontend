(this["webpackJsonptwitter-app-frontend"]=this["webpackJsonptwitter-app-frontend"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/avatar.732dc8fe.jpg"},,,function(e,t,n){e.exports=n.p+"static/media/logo.d6716f1a.png"},,function(e,t,n){e.exports=n.p+"static/media/likes.39182f5f.jpg"},,function(e,t,n){e.exports=n(27)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/profile.233b2fde.jpg"},function(e,t,n){e.exports=n.p+"static/media/like.b9d889dd.webp"},function(e,t,n){e.exports=n.p+"static/media/comment.ae267f51.png"},function(e,t,n){e.exports=n.p+"static/media/edit.fb6f5682.png"},function(e,t,n){e.exports=n.p+"static/media/delete.f1782b1c.webp"},function(e,t,n){e.exports=n.p+"static/media/cover.eb1c51c8.jpg"},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),o=n.n(i),s=(n(18),n(1)),c=n(2),l=n(3),m=n(4),u=(n(19),function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.isSignedin?r.a.createElement("nav",{className:"dt w-100 border-box pa3 ph5-ns bg-black-80 white"},r.a.createElement("p",{className:"dtc v-mid mid-gray link w-25",title:"Home"},r.a.createElement("img",{onClick:function(){return e.props.changeRoute("homeSignedin")},src:n(9),className:"dib dim w2 h3 br-100 pointer w3 h3 bg-blue ml2",alt:"Site Name"})),r.a.createElement("div",{className:"dtc v-mid w-75 tr"},r.a.createElement("p",{onClick:function(){return e.props.changeRoute("profile")},className:"link dim f3-ns dib pointer mr2",title:"Contact"},"Hi, ",this.props.userInfo.username),r.a.createElement("p",{onClick:function(){return e.props.changeRoute("signout")},className:"link dim f3-ns dib pointer mr2 ml4",title:"Contact"},"Signout"))):r.a.createElement("nav",{className:"dt w-100 border-box pa3 ph5-ns bg-black-80 white"},r.a.createElement("p",{className:"dtc v-mid mid-gray link w-25",title:"Home"},r.a.createElement("img",{onClick:function(){return e.props.changeRoute("homeDefault")},src:n(9),className:"dib dim w2 h3 br-100 pointer w3 h3 bg-blue ml2",alt:"Site Name"})),r.a.createElement("div",{className:"dtc v-mid w-75 tr"},r.a.createElement("p",{onClick:function(){return e.props.changeRoute("signin")},className:"link dim f3-ns dib mr3 mr4-ns pointer",title:"Store"},"Signin"),r.a.createElement("p",{onClick:function(){return e.props.changeRoute("register")},className:"link dim f3-ns dib pointer mr2",title:"Contact"},"Register"))))}}]),a}(r.a.Component)),p=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onEmailChange=function(e){a.setState({signinEmail:e.target.value})},a.onPasswordChange=function(e){a.setState({signinPassword:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),fetch("https://cryptic-reef-80535.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.signinEmail,password:a.state.signinPassword})}).then((function(e){return e.json()})).then((function(e){"Wrong Email"===e?(a.setState({wrongPassword:!1}),a.setState({wrongEmail:!0})):"Wrong Password"===e?(a.setState({wrongEmail:!1}),a.setState({wrongPassword:!0})):e._id&&(a.props.loadUser(e),a.props.changeRoute("homeSignedin"))}))},a.onRegisterClick=function(){a.props.changeRoute("register")},a.state={signinEmail:"",signinPassword:"",wrongEmail:!1,wrongPassword:!1},a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("form",{className:"measure center",onSubmit:this.onFormSubmit},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f4 fw6 ph0 mh0"},"Sign In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),r.a.createElement("input",{onChange:this.onEmailChange,className:"pa2 input-reset ba bg-transparent w-100",type:"email",name:"email-address",id:"email-address",required:!0}),this.state.wrongEmail?r.a.createElement("p",{className:"red"},"EMAIL IS NOT EXIST , PLEASE REGISTER FIRST!"):null),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:this.onPasswordChange,className:"b pa2 input-reset ba bg-transparent w-100",type:"password",name:"password",id:"password",required:!0}),this.state.wrongPassword?r.a.createElement("p",{className:"red"},"WRONG PASSWORD!"):null)),r.a.createElement("div",null,r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in"})),r.a.createElement("div",{className:"lh-copy mt3"},"Don't have an account yet ?",r.a.createElement("span",{onClick:this.onRegisterClick,href:"#0",className:"f6 link blue underline dim ml1 pointer"},"Register Now")))))}}]),n}(r.a.Component),d=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onUsernameChange=function(e){a.setState({registerUsername:e.target.value})},a.onEmailChange=function(e){a.setState({registerEmail:e.target.value})},a.onPasswordChange=function(e){a.setState({registerPassword:e.target.value})},a.onSigninClick=function(){a.props.changeRoute("signin")},a.onFormSubmit=function(e){e.preventDefault(),fetch("https://cryptic-reef-80535.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.registerUsername,email:a.state.registerEmail,password:a.state.registerPassword})}).then((function(e){return e.json()})).then((function(e){e._id?a.props.changeRoute("signin"):a.setState({userAlreadyExist:!0})}))},a.state={registerUsername:"",registerEmail:"",registerPassword:"",userAlreadyExist:!1},a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("form",{className:"measure center",onSubmit:this.onFormSubmit},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f4 fw6 ph0 mh0"},"Register"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Username"),r.a.createElement("input",{onChange:this.onUsernameChange,className:"pa2 input-reset ba bg-transparent w-70",type:"name",name:"username",minLength:"3",maxLength:"15",required:!0}),this.state.userAlreadyExist?r.a.createElement("p",{className:"red"},"USERNAME OR EMAIL ALREADY TAKEN!"):null),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Email"),r.a.createElement("input",{onChange:this.onEmailChange,className:"pa2 input-reset ba bg-transparent w-75",type:"email",name:"email-address",required:!0})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6"},"Password"),r.a.createElement("input",{onChange:this.onPasswordChange,className:"pa2 input-reset ba bg-transparent w-75",type:"password",name:"password",minLength:"6",required:!0}))),r.a.createElement("div",null,r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"})),r.a.createElement("div",{className:"lh-copy mt3"},"Already have an accout?",r.a.createElement("span",{onClick:this.onSigninClick,className:"f6 link blue dim underline pointer ml1"},"Signin")))))}}]),n}(r.a.Component),h=n(7),f=n(5),g=(n(10),function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).onTextareaChange=function(e){i.setState({newTweetContent:e.target.value})},i.clearInput=function(){document.getElementById("textarea").value=""},i.onFormSubmit=function(e){e.preventDefault(),fetch("https://cryptic-reef-80535.herokuapp.com/tweet/posting/".concat(i.props.userInfo.username),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:i.state.newTweetContent})}).then((function(e){return e.json()})).then((function(e){e._id?(i.setState({newTweetContent:""}),i.clearInput(),i.componentDidMount()):"please signin first!"===e&&i.props.changeRoute("signin")})).catch((function(e){return console.log(e)}))},i.handleLikes=function(e){i.props.isSignedin?i.state.liked[e]?(document.getElementById("likeCounter".concat(e)).innerHTML=Number(document.getElementById("likeCounter".concat(e)).innerHTML)-1,i.setState(Object.assign(i.state.liked,Object(h.a)({},e,!1))),document.getElementById("likeBtn".concat(e)).classList.remove("bg-light-blue"),fetch("https://cryptic-reef-80535.herokuapp.com/tweet/dislikes/".concat(e,"/").concat(i.props.userInfo.username),{method:"put"}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))):(document.getElementById("likeCounter".concat(e)).innerHTML=Number(document.getElementById("likeCounter".concat(e)).innerHTML)+1,i.setState(Object.assign(i.state.liked,Object(h.a)({},e,!0))),document.getElementById("likeBtn".concat(e)).classList.add("bg-light-blue"),fetch("https://cryptic-reef-80535.herokuapp.com/tweet/likes/".concat(e,"/").concat(i.props.userInfo.username),{method:"put"}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))):i.props.changeRoute("signin")},i.showCommentBlock=function(e){document.getElementById("commentBlock".concat(e)).classList.toggle("dn")},i.onCommentChange=function(e){i.setState({comment:e.target.value})},i.onCommentClick=function(e){i.props.isSignedin&&i.state.comment.length?fetch("https://cryptic-reef-80535.herokuapp.com/tweet/comment/".concat(e),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({owner:i.props.userInfo.username,content:i.state.comment})}).then((function(e){return e.json()})).then((function(e){i.componentDidMount(),i.setState({comment:""}),document.getElementById("comment").value=""})):i.props.isSignedin||i.props.changeRoute("signin")},i.isFollowing=function(e){if(i.props.isSignedin){var t=!1;return i.props.userInfo.following.forEach((function(n){n===e&&(t=!0)})),t}},i.showProfile=function(e){fetch("https://cryptic-reef-80535.herokuapp.com/".concat(e)).then((function(e){return e.json()})).then((function(t){t=t.map((function(e,t){return t<=2?r.a.createElement("div",{className:"bg-black-20 br3 tc w-100",key:t},r.a.createElement("p",{className:"f4 pa3"},e.content)):null}));var a=r.a.createElement("div",null,r.a.createElement("h4",null,e),r.a.createElement("div",null,r.a.createElement("img",{src:n(20),className:"h4 w4 mt1 mr2",title:"Photo of a kitty staring at you",alt:"avatar"})),r.a.createElement("button",{id:"follow".concat(e),className:"f6 link dim ba ph1 mb2 dib pointer bw1 b--black bg-white",type:"button"},i.isFollowing(e)?r.a.createElement("p",{onClick:function(){return i.onFollowClick(e,"unfollow")},className:"red pv0"},"Following"):r.a.createElement("p",{onClick:function(){return i.onFollowClick(e,"follow")},className:"pv0"},"Follow")),r.a.createElement("p",null,"Latest Tweets"),t);f.PopupboxManager.open({content:a})}))},i.onFollowClick=function(e,t){i.props.isSignedin?fetch("https://cryptic-reef-80535.herokuapp.com/".concat(t,"/").concat(i.props.userInfo.username),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}).then((function(e){return e.json()})).then((function(e){i.props.loadUser(e),f.PopupboxManager.close()})):i.props.changeRoute("signin")},i.state={tweets:[],newTweetContent:"",liked:{},comment:""},i}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cryptic-reef-80535.herokuapp.com/home").then((function(e){return e.json()})).then((function(t){t=t.map((function(t,a){var i=!1;return t.likedBy.forEach((function(t){if(t===e.props.userInfo.username)return i=!0})),e.setState(Object.assign(e.state.liked,Object(h.a)({},t._id,i))),r.a.createElement("article",{className:"w-100 center bg-white br4 pa3 pa3-ns mv3 ba b--black-40 pb0 pb0-ns",key:a},r.a.createElement("div",{className:"tc"},r.a.createElement("img",{onClick:function(){return e.showProfile(t.username)},src:n(6),className:"br-100 h2 w2 dib pointer dim",title:"Photo of a kitty staring at you",alt:"avatar"}),r.a.createElement("h1",{onClick:function(){return e.showProfile(t.username)},className:"f4 pointer dim"},t.username),r.a.createElement(f.PopupboxContainer,null),r.a.createElement("hr",{className:"mw3 bb bw1 b--black-10"})),r.a.createElement("p",{className:"lh-copy measure center f3 black-70"},t.content),r.a.createElement("div",{className:"tl mb2"},r.a.createElement("img",{src:n(11),className:"w2 ma0 pa0",alt:"likes"}),r.a.createElement("span",{id:"likeCounter".concat(t._id),className:"f3"},t.likes),r.a.createElement("hr",{className:"pa0 ma0 bn"}),r.a.createElement("button",{onClick:function(){return e.handleLikes(t._id)},className:"dim pointer w-50 bn outline-0"},r.a.createElement("img",{id:"likeBtn".concat(t._id),src:n(21),className:e.state.liked[t._id]?"w2 br-100 grow pointer dim bg-light-blue":"w2 br-100 grow pointer dim",alt:"like"})),r.a.createElement("button",{onClick:function(){return e.showCommentBlock(t._id)},id:"likeBtn",className:"dim pointer w-50 bn outline-0"},r.a.createElement("img",{src:n(22),className:"w2 br-100 grow pointer dim",alt:"comment"}))),r.a.createElement("div",null,r.a.createElement("div",{className:"bg-white mw6 center pa2 br4-ns ba b--white dn",id:"commentBlock".concat(t._id)},r.a.createElement("fieldset",{className:"cf bn ma0 pa0"},r.a.createElement("div",{className:"cf"},r.a.createElement("img",{src:n(6),className:"fl br-100 h2 w2 dib pointer dim mt1 mr2",title:"Photo of a kitty staring at you",alt:"avatar"}),r.a.createElement("textarea",{onChange:e.onCommentChange,className:"f3 input-reset bn fl black-80 bg-white pt2 lh-solid w-60 w-60-m w-60-l br2-ns outline-0",placeholder:"Write a comment..",type:"text",name:"tweet",id:"comment",style:{resize:"none"}}),r.a.createElement("input",{onClick:function(){return e.onCommentClick(t._id)},className:"f6 f5-l button-reset fr pv3 tc bn bg-animate bg-blue grow white pointer w-30 w-20-m w-20-l br4-ns outline-0",type:"submit",value:"Comment"}))))),t.comments=t.comments.map((function(t,a){return r.a.createElement("div",{className:"bg-black-20 br3 tl ph3 pa2 pb0 w-80 ml4",key:a},r.a.createElement("img",{onClick:function(){return e.showProfile(t.owner)},src:n(6),className:"br-100 h2 w2 dib pointer fl mr2",title:"Photo of a kitty staring at you",alt:"avatar"}),r.a.createElement("h5",{onClick:function(){return e.showProfile(t.owner)},className:"pb0 mb3 mt2 pointer hover-black-70 dark-blue dib"},t.owner),r.a.createElement("p",{className:"pt0 mb3 mt0 ml4 f4"},t.content))})))})),e.setState({tweets:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"tc f3 mh4"},r.a.createElement("section",{className:"mw7 center avenir"},this.props.isSignedin?r.a.createElement("div",{className:"pt2"},r.a.createElement("form",{className:"bg-white mw7 center pa2 br1-ns ba b--black-10",onSubmit:this.onFormSubmit},r.a.createElement("fieldset",{className:"cf bn ma0 pa0"},r.a.createElement("div",{className:"cf"},r.a.createElement("img",{src:n(6),className:"fl br-100 h2 w2 dib pointer dim mt1 mr2",title:"Photo of a kitty staring at you",alt:"avatar"}),r.a.createElement("textarea",{onChange:this.onTextareaChange,className:"f3 input-reset bn fl black-80 bg-white pt2 lh-solid w-80 w-80-m w-80-l br2-ns outline-0",placeholder:"Add a tweet ..",type:"text",name:"tweet",id:"textarea",style:{resize:"none"},required:!0}),r.a.createElement("input",{className:"f4 f3-l button-reset fr pv3 tc bn bg-animate bg-blue grow white pointer w-50 w-20-m w-20-l br4-ns outline-0",type:"submit",value:"Tweet"}))))):null,this.state.tweets))}}]),a}(r.a.Component)),b=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onEditChange=function(t){e.setState({editedTweetContent:t.target.value})},e.onDeleteClick=function(t){fetch("https://cryptic-reef-80535.herokuapp.com/tweet/deleting/".concat(t),{method:"delete"}).then((function(e){return e.json()})).then((function(t){e.componentDidMount()})).catch(console.log)},e.state={tweets:[],editedTweetContent:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cryptic-reef-80535.herokuapp.com/".concat(this.props.userInfo.username)).then((function(e){return e.json()})).then((function(t){t=t.length?t.map((function(t,a){return r.a.createElement("article",{className:"w-100 center bg-white br4 pa3 pa3-ns mv3 ba b--black-40 pb0 pb0-ns",key:a},r.a.createElement("div",{className:"tc"},r.a.createElement("img",{onClick:function(){return e.onEditClick(t._id,t.content)},id:"editBtn".concat(t._id),src:n(23),className:"h2 w2 dib pointer dim fl",title:"Photo of a kitty staring at you",alt:"edit"}),r.a.createElement(f.PopupboxContainer,null),r.a.createElement("img",{src:n(6),className:"br-100 h2 w2 dib pointer dim",title:"Photo of a kitty staring at you",alt:"avatar"}),r.a.createElement("img",{onClick:function(){return e.onDeleteClick(t._id)},id:"deleteBtn".concat(t._id),src:n(24),className:"br-100 h2 w2 dib pointer dim fr",title:"Photo of a kitty staring at you",alt:"delete"}),r.a.createElement("h1",{className:"f4 pointer dim"},t.username)),r.a.createElement("p",{className:"lh-copy measure center f3 black-70"},t.content),r.a.createElement("div",{className:"tl"},r.a.createElement("img",{src:n(11),className:"w2 ma0 pa0",alt:"likes"}),r.a.createElement("span",{id:"likeCounter".concat(t._id),className:"f3"},t.likes),r.a.createElement("hr",{className:"pa0 ma0"})),t.comments=t.comments.map((function(e,t){return r.a.createElement("div",{className:"bg-black-20 br3 tl ph3 pa2 pb0 w-80 ml4",key:t},r.a.createElement("img",{src:n(6),className:"br-100 h2 w2 dib pointer fl mr2",title:"Photo of a kitty staring at you",alt:"avatar"}),r.a.createElement("h5",{className:"pb0 mb3 mt2 pointer hover-black-70 dark-blue dib"},e.owner),r.a.createElement("p",{className:"pt0 mb3 mt0 ml4 f4"},e.content))})))})):r.a.createElement("h2",null,"You dont have any tweets yet, ",e.props.userInfo.username),e.setState({tweets:t})}))}},{key:"onChangeBtnClick",value:function(e){var t=this;this.state.editedTweetContent.length&&fetch("https://cryptic-reef-80535.herokuapp.com/tweet/updating/".concat(e),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:this.state.editedTweetContent})}).then((function(e){return e.json()})).then((function(n){f.PopupboxManager.close(),t.setState({editedTweetContent:""}),document.getElementById("edit".concat(e)).value="",t.componentDidMount()})).catch(console.log)}},{key:"onEditClick",value:function(e,t){var n=this,a=r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onEditChange,type:"text",id:"edit".concat(e),name:"editTweet",placeholder:t}),r.a.createElement("input",{onClick:function(){return n.onChangeBtnClick(e)},className:"f6 f6-l button-reset pv3 tc bn bg-animate bg-blue grow white pointer w-50 w-20-m w-20-l br4-ns outline-0 mt2",type:"button",value:"Change"}));f.PopupboxManager.open({content:a})}},{key:"render",value:function(){return r.a.createElement("div",{className:"tc"},r.a.createElement("img",{src:n(25),className:"w-60",alt:"cover"}),r.a.createElement("div",{className:"tc f3 mh4"},r.a.createElement("section",{className:"mw7 center avenir"},this.state.tweets)))}}]),a}(r.a.Component),w={route:"homeDefault",isSignedin:!1,userInfo:{}},E=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).changeRoute=function(t){"signout"===t&&e.setState(w),e.setState({route:t}),"homeSignedin"===t&&e.setState({isSignedin:!0})},e.loadUser=function(t){e.setState({userInfo:t})},e.state=w,e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(u,{changeRoute:this.changeRoute,isSignedin:this.state.isSignedin,userInfo:this.state.userInfo}),"homeDefault"===this.state.route||"homeSignedin"===this.state.route?r.a.createElement(g,{changeRoute:this.changeRoute,userInfo:this.state.userInfo,isSignedin:this.state.isSignedin,loadUser:this.loadUser}):"profile"===this.state.route?r.a.createElement(b,{userInfo:this.state.userInfo}):"register"===this.state.route?r.a.createElement(d,{changeRoute:this.changeRoute}):r.a.createElement(p,{changeRoute:this.changeRoute,loadUser:this.loadUser}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(26);o.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.a0078c6b.chunk.js.map